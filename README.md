# Hometask по лекции № 2
## **Отличия Trunk-based development от feature-подхода:**

**Trunk-based development (TBD)**                          |**Feature Driven Development (FDD)**                         |
-------------------------------|-----------------------------|
Для разработки используется одна основная ветвь, в которую коммитятся изменения            |Создаются отдельные ветви под каждую фичу          |
Вся команда может быстро увидеть внесенные изменения            |Пока фича не будет отправлена (PR), другие разработчики ее не увидят |
Небольшое количество конфликтов, так как разработка далеко не ушла|Большое количество конфликтов, так разработка велась долго|
Быстрое прохождение review|Review проходит долго|
Данный подход рассчитан на разработчиков высокой квалификации.|Подход рассчитан на разработчиков разной квалификации|


## **Trunk-based development**


**- TBD спасает вас от «ада» слияния**

Существует лишь единственная ветвь исправления и выпуска, других нет, соответственно и слияния нет. Никакое слияние не равно никакому конфликту слияния. Это одно из больших преимуществ развития на основе магистрали (одной ветки).

**- TBD поддерживает лучшие методы разработки, включая планирование функций, совершение небольших изменений и написание обратно совместимого кода.**

Для этого существует менеджер релизов. Это, по сути, единственный человек (или группа людей), который играет определенную роль в разработке на основе магистрали. Он может создавать ветви релизов и исправлять ошибки в производстве, и никто не может зафиксировать их.

Кроме того, следует иметь в виду, что никакая фиксация не может нарушить магистральную ветвь. Со всех точек истории менеджер релизов должен иметь возможность создавать ветвь выпуска.

Чтобы убедиться, что мы не можем предоставить какой-либо код незаконченной функции и позволить пользователю ввести его на помощь приходят такие методы, как ветвь по абстракции и флаг функции (позволяет удобно включать/выключать необходимый функционал).

**- TBD создает возможность развертывать новые функции быстрее, чем с помощью ветвления.**

В этом подходе не создаются ветки для фич, а только - на изменение одной абстракции. Декомпозируя задачу, с помощью частых pull requests (PR)/комитов ускоряем процесс внедрения нового функционала.

С помощью абстракций мы можем легко заменить устаревшие компоненты на новые, не нарушая магистральную линию.

В целом эти техники позволяют смержить  PR в магистральную-ветку и просматривать code-review всего за считаные минуты, чего не скажешь о FBD - в нем был бы один, но емкий PR на весь измененный функционал, собственно за счет этого он и считается более медленным.

**- В долгосрочной перспективе небольшие фиксации могут помочь разделить ваше большое монолитное приложение на аккуратные сервисы.**

**- TBD-подход применяется в команде опытных разработчиков с навыками построения абстракций и декомпозиции, а также хорошего покрытия тестами.**

Важным фактором использования TBD  является покрытие кода unit-тестами.

Тестирование разбивается на 2 категории:

1) Проводятся модульные тесты для вновь созданного метода. Однако, модульные тесты должны охватывать только тестируемую функцию, а другие функции должны быть заглушкой или имитацией.

2) Процесс интеграции. В какой-то момент можно написать код, который использует функции из отдельного модуля. Это соединение также должно быть протестировано.

## **Trunk-based development**
- Для разработки нового функционала создаются отдельные ветки, они является долгоживущими «ветки-призраки», которые в дальнейшем могут привести к масштабному разрастанию репозитория.

- При слиянии Feature-ветки в основную ветвь приходится проходить долгое Review, так как фича разрабатывалась долго и затронула много изменений.

- Также могут возникнуть большое количество конфликтов, так как основная ветвь ушла далеко вперед.


## **Вывод:**

На мой взгляд выделить идеальный подход к организации разработки не получится, так как все зависит от команды разработчиков и цели развития продукта.

Если нам необходимо в кратчайшие сроки выпустить продукт и над ним работает небольшая команда профессионалов, то лучше использовать подход TBD.

Если разрабатываемый продукт является большим и сложным и над ним работаю специалисты разной квалификации, то следует выбрать FDD  подход.
